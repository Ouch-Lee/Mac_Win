A =[0 8.7 5.0 3.4 2.4 3.4 0.68 0.42 6.6 7.2
6.1 0 1.3 4.0 6.0 0.043 4.1 1.4 8.8 5.0
2.5 8.6 0 5.3 4.8 8.3 1.2 0.77 4.7 4.9
1.3 9.0 8.7 0 9.0 5.1 4.4 7.4 1.4 5.0
5.5 2.2 6.0 7.8 0 3.7 9.0 4.6 0.68 9.4
8.3 0.77 2.7 0.69 8.2 0 3.5 6.7 7.1 3.9
8.4 4.7 8.6 2.8 7.1 5.3 0 7.0 3.1 1.2
8.3 8.4 0.58 3.8 7.4 2.9 5.7 0 6.7 2.4
2.0 4.7 4.6 8.6 9.0 0.68 8.8 6.3 0 6.8
5.4 4.1 7.2 4.2 0.65 0.85 3.5 8.8 5.3 0];

n = length(A);
para.n = n;
para.xf = 9;
para.x0 = 8;
para.A = A;
para.c = 1;

V = zeros(n,n);
u = zeros(n,n);

V(:,1) = 1000 * ones(n,1);
V(para.xf,1) = 0;

for i = 1: para.n -1
    [V(:, i+1), u(:,i+1)] = get_best_routie(V(:,i), para);
end

clear x
x = zeros(1, n);
x(1) = para.x0;
for k = 2: n
    x(k) = u(x(k-1),n-k+1);
    if x(k) == para.xf
        break;
    end
end

x



